{"is_source_file": true, "format": "SQL", "description": "This file contains the schema definition, index creation, triggers, seed data, and default category seedings for the expense tracker database. It defines tables such as users, accounts, categories, transactions, budgets, goals, and alerts, along with related indexes, foreign keys, and default data initialization, including demo data with relational dependencies for a sample user.", "external_files": ["pgcrypto extension (implicitly referenced)", "functions like gen_random_uuid() (from pgcrypto extension)"], "external_methods": ["gen_random_uuid()", "NOW()"], "published": ["public.users", "public.accounts", "public.categories", "public.transactions", "public.budgets", "public.goals", "public.alerts"], "classes": [], "methods": [], "calls": ["CREATE SCHEMA IF NOT EXISTS public", "CREATE TABLE IF NOT EXISTS public.users", "CREATE TABLE IF NOT EXISTS public.accounts", "CREATE TABLE IF NOT EXISTS public.categories", "CREATE TABLE IF NOT EXISTS public.transactions", "CREATE TABLE IF NOT EXISTS public.budgets", "CREATE TABLE IF NOT EXISTS public.goals", "CREATE TABLE IF NOT EXISTS public.alerts", "CREATE INDEX IF NOT EXISTS idx_users_email", "CREATE INDEX IF NOT EXISTS idx_accounts_user", "CREATE INDEX IF NOT EXISTS idx_categories_user", "CREATE INDEX IF NOT EXISTS idx_categories_name_type", "CREATE INDEX IF NOT EXISTS idx_transactions_user_date", "CREATE INDEX IF NOT EXISTS idx_transactions_category", "CREATE INDEX IF NOT EXISTS idx_transactions_account", "CREATE INDEX IF NOT EXISTS idx_transactions_direction", "CREATE INDEX IF NOT EXISTS idx_budgets_user_month", "CREATE INDEX IF NOT EXISTS idx_budgets_category", "CREATE INDEX IF NOT EXISTS idx_goals_user", "CREATE INDEX IF NOT EXISTS idx_alerts_user_created", "CREATE FUNCTION set_updated_at()", "DROP TRIGGER IF EXISTS trg_users_set_updated_at", "CREATE TRIGGER trg_users_set_updated_at", "DROP TRIGGER IF EXISTS trg_accounts_set_updated_at", "CREATE TRIGGER trg_accounts_set_updated_at", "DROP TRIGGER IF EXISTS trg_transactions_set_updated_at", "CREATE TRIGGER trg_transactions_set_updated_at", "DROP TRIGGER IF EXISTS trg_budgets_set_updated_at", "CREATE TRIGGER trg_budgets_set_updated_at", "DROP TRIGGER IF EXISTS trg_goals_set_updated_at", "CREATE TRIGGER trg_goals_set_updated_at", "CREATE EXTENSION IF NOT EXISTS pgcrypto", "INSERT INTO public.categories", "INSERT INTO public.users", "INSERT INTO public.accounts", "INSERT INTO public.categories (user_id, name, type, icon, is_default)", "SELECT", "INSERT INTO public.transactions", "WITH u AS ...", "INSERT INTO public.budgets", "DO $$ DECLARE ... END $$", "DO $$ BEGIN ... END $$"], "search-terms": ["expense tracker schema", "seed data", "default categories", "postgres triggers", "schema creation", "transaction seed", "user demo data"], "state": 2, "file_id": 26, "knowledge_revision": 104, "git_revision": "607623e64c2540da5e369e337c0463b0611c45c5", "revision_history": [{"58": ""}, {"104": "607623e64c2540da5e369e337c0463b0611c45c5"}], "hash": "ea9f0080fe0fa69ee64e535dfcb90aca", "format-version": 4, "code-base-name": "expense_tracker_frontend", "filename": "expense_tracker_database/init/001_schema.sql"}