{"is_source_file": true, "format": "JavaScript", "description": "This file is a controller for handling category-related HTTP API requests in a backend application, specifically to list categories with filters for type, user ID, and defaults. It defines a Zod schema for validation, and exports an asynchronous function 'listCategories' that builds and executes SQL queries based on request parameters.", "external_files": ["../db/pg.js"], "external_methods": ["query"], "published": ["listCategories"], "classes": [], "methods": [{"name": "listCategories(req, res, next)", "description": "Handles HTTP request to list categories based on query parameters, validating input, constructing SQL queries with filters, executing the query, and returning the categories as JSON.", "scope": "", "scopeKind": ""}], "calls": ["listQuerySchema.safeParse", "query", "res.status", "res.json", "next"], "search-terms": ["categoriesController.js", "listCategories", "category listing", "category filter", "SQL query construction", "Zod validation", "category type filter", "user ID filter"], "state": 2, "file_id": 51, "knowledge_revision": 173, "git_revision": "", "ctags": [{"_type": "tag", "name": "listCategories", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/categoriesController.js", "pattern": "/^export async function listCategories(req, res, next) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res, next)"}, {"_type": "tag", "name": "listQuerySchema", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/categoriesController.js", "pattern": "/^const listQuerySchema = z.object({$/", "language": "JavaScript", "kind": "constant"}], "hash": "3af6661c4be23b5b38bd6fbdc2fae7bc", "format-version": 4, "code-base-name": "expense_tracker_frontend", "filename": "expense_tracker_backend/src/controllers/categoriesController.js", "revision_history": [{"173": ""}]}