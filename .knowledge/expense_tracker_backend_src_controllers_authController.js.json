{"is_source_file": true, "format": "JavaScript", "description": "This JavaScript source file defines and exports controller functions for user authentication, including registration and login, using schema validation, database queries, password hashing, and JWT token generation.", "external_files": ["../db/pg.js"], "external_methods": ["db.query", "bcrypt.hash", "bcrypt.compare", "jwt.sign"], "published": ["register", "login"], "classes": [], "methods": [{"name": "register(req, res)", "description": "Handles user registration by validating input, checking email uniqueness, hashing password, inserting new user into database, and returning user details.", "scope": "", "scopeKind": ""}, {"name": "login(req, res)", "description": "Authenticates user credentials, generates a JWT token upon success, and returns token and user info.", "scope": "", "scopeKind": ""}], "calls": ["db.query", "bcrypt.hash", "bcrypt.compare", "jwt.sign"], "search-terms": ["authController", "register", "login", "bcrypt", "jwt", "pg"], "state": 2, "file_id": 60, "knowledge_revision": 250, "git_revision": "", "revision_history": [{"236": ""}, {"250": ""}], "ctags": [{"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/authController.js", "pattern": "/^      email: userRow.email,$/", "language": "JavaScript", "kind": "property", "scope": "login.user", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/authController.js", "pattern": "/^      id: userRow.id,$/", "language": "JavaScript", "kind": "property", "scope": "login.user", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/authController.js", "pattern": "/^export async function login(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "loginSchema", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/authController.js", "pattern": "/^const loginSchema = z.object({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/authController.js", "pattern": "/^      name: userRow.name,$/", "language": "JavaScript", "kind": "property", "scope": "login.user", "scopeKind": "class"}, {"_type": "tag", "name": "notification_preferences", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/authController.js", "pattern": "/^      notification_preferences: userRow.notification_preferences || {},$/", "language": "JavaScript", "kind": "property", "scope": "login.user", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/authController.js", "pattern": "/^export async function register(req, res) {$/", "language": "JavaScript", "kind": "function", "signature": "(req, res)"}, {"_type": "tag", "name": "registerSchema", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/authController.js", "pattern": "/^const registerSchema = z.object({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_backend/src/controllers/authController.js", "pattern": "/^    const user = {$/", "language": "JavaScript", "kind": "class", "scope": "login", "scopeKind": "class"}], "hash": "20a16c9655ac072a166d5a084739bb64", "format-version": 4, "code-base-name": "expense_tracker_frontend", "filename": "expense_tracker_backend/src/controllers/authController.js", "fields": [{"name": "email: userRow.email,", "scope": "login.user", "scopeKind": "class", "description": "unavailable"}, {"name": "id: userRow.id,", "scope": "login.user", "scopeKind": "class", "description": "unavailable"}, {"name": "name: userRow.name,", "scope": "login.user", "scopeKind": "class", "description": "unavailable"}, {"name": "notification_preferences: userRow.notification_preferences || {},", "scope": "login.user", "scopeKind": "class", "description": "unavailable"}]}