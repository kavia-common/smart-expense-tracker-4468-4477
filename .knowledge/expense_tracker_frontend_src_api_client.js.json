{"is_source_file": true, "format": "JavaScript", "description": "This file provides an API client module built with Axios for a React frontend project. It manages JWT authentication tokens stored in localStorage, sets up Axios interceptors for attaching auth headers and handling 401 responses, and exposes functions for making HTTP GET, POST, and PUT requests. The code also detects if backend API URL is configured via environment variables to toggle between real API calls and mock mode.", "external_files": ["axios"], "external_methods": ["localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "window.location.replace"], "published": ["setAuthToken", "getAuthToken", "clearAuthToken", "isApiEnabled", "apiGet", "apiPost", "apiPut"], "classes": [], "methods": [{"name": "setAuthToken(token)", "description": "Sets and persists the JWT token in memory cache and localStorage.", "scope": "", "scopeKind": ""}, {"name": "getAuthToken()", "description": "Retrieves the JWT token from in-memory cache, synchronizing with localStorage if needed.", "scope": "", "scopeKind": ""}, {"name": "clearAuthToken()", "description": "Clears the JWT token from in-memory cache and localStorage.", "scope": "", "scopeKind": ""}, {"name": "isApiEnabled()", "description": "Checks whether the backend API URL environment variable is set to determine if real API calls are enabled.", "scope": "", "scopeKind": ""}, {"name": "apiGet(path, config = {})", "description": "Performs a GET request to the backend API if enabled, otherwise returns a mock response.", "scope": "", "scopeKind": ""}, {"name": "apiPost(path, body = {}, config = {})", "description": "Performs a POST request to the backend API if enabled, otherwise returns a mock response.", "scope": "", "scopeKind": ""}, {"name": "apiPut(path, body = {}, config = {})", "description": "Performs a PUT request to the backend API if enabled, otherwise returns a mock response.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "window.location.replace", "axios.create", "http.interceptors.request.use", "http.interceptors.response.use", "http.get", "http.post", "http.put"], "search-terms": ["API client", "JWT token", "axios interceptors", "localStorage token", "mock mode"], "state": 2, "file_id": 14, "knowledge_revision": 211, "git_revision": "34d367c594814a2f81ace27ec00c74da24df1c18", "revision_history": [{"33": ""}, {"98": "8b368e628fd02ccfa52bfb480873ff8cf4ee785a"}, {"129": "e30dbdec180f98b4e3d3034fe45697db66c8c89b"}, {"200": "34d367c594814a2f81ace27ec00c74da24df1c18"}, {"211": "34d367c594814a2f81ace27ec00c74da24df1c18"}], "ctags": [{"_type": "tag", "name": "TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^const TOKEN_KEY = 'auth_token';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^export async function apiGet(path, config = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, config = {})"}, {"_type": "tag", "name": "apiPost", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^export async function apiPost(path, body = {}, config = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body = {}, config = {})"}, {"_type": "tag", "name": "apiPut", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^export async function apiPut(path, body = {}, config = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body = {}, config = {})"}, {"_type": "tag", "name": "baseURL", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^const baseURL = process.env.REACT_APP_API_URL || undefined;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clearAuthToken", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^export function clearAuthToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAuthToken", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^export function getAuthToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^export const http = baseURL$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isApiEnabled", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^export function isApiEnabled() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "setAuthToken", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^export function setAuthToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "stored", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^  const stored = localStorage.getItem(TOKEN_KEY);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "tokenCache", "path": "/home/kavia/workspace/code-generation/smart-expense-tracker-4468-4477/expense_tracker_frontend/src/api/client.js", "pattern": "/^let tokenCache = null;$/", "language": "JavaScript", "kind": "variable"}], "hash": "50bc6d6cacf72239381e9bad646212ab", "format-version": 4, "code-base-name": "expense_tracker_frontend", "filename": "expense_tracker_frontend/src/api/client.js", "fields": [{"name": "let tokenCache = null;", "scope": "", "scopeKind": "", "description": "unavailable"}]}